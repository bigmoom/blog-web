<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="google-site-verification" content="_i0mgfxBy6QPgJZLx5NbYfLAp5i5xqHoSKIcpYOPHM0" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="_i0mgfxBy6QPgJZLx5NbYfLAp5i5xqHoSKIcpYOPHM0">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.caiwanghui.top","root":"/","scheme":"Mist","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Springboot整合Mybatis-plus  简介 Mybatis-plus是基于mybatis的纯粹的增强版，并没有修改mybatis任何功能，只是单纯的添加了一些非常方便的功能。  类似spring-data-jpa，通过继承BaseMapper无须配置xml文件即可实现CRUD等操作 通过分页插件实现物理分页查询 通过继承IService和ServiceImpl实现例如批量更新等等操">
<meta property="og:type" content="article">
<meta property="og:title" content="SpringBoot整合mybatis-plus">
<meta property="og:url" content="http://www.caiwanghui.top/2021/06/15/SpringBoot%E6%95%B4%E5%90%88mybatis-plus/index.html">
<meta property="og:site_name" content="菜鸡肥肥的私人博客">
<meta property="og:description" content="Springboot整合Mybatis-plus  简介 Mybatis-plus是基于mybatis的纯粹的增强版，并没有修改mybatis任何功能，只是单纯的添加了一些非常方便的功能。  类似spring-data-jpa，通过继承BaseMapper无须配置xml文件即可实现CRUD等操作 通过分页插件实现物理分页查询 通过继承IService和ServiceImpl实现例如批量更新等等操">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180015.png">
<meta property="og:image" content="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180043.png">
<meta property="og:image" content="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180233.png">
<meta property="og:image" content="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180420.png">
<meta property="og:image" content="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180324.png">
<meta property="og:image" content="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180456.png">
<meta property="article:published_time" content="2021-06-14T22:12:30.000Z">
<meta property="article:modified_time" content="2023-02-02T13:41:06.898Z">
<meta property="article:author" content="Wanghui Cai">
<meta property="article:tag" content="JAVA">
<meta property="article:tag" content="springboot">
<meta property="article:tag" content="面试">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180015.png">

<link rel="canonical" href="http://www.caiwanghui.top/2021/06/15/SpringBoot%E6%95%B4%E5%90%88mybatis-plus/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>SpringBoot整合mybatis-plus | 菜鸡肥肥的私人博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">菜鸡肥肥的私人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.caiwanghui.top/2021/06/15/SpringBoot%E6%95%B4%E5%90%88mybatis-plus/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Wanghui Cai">
      <meta itemprop="description" content="一些零零散散的学习总结">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸡肥肥的私人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          SpringBoot整合mybatis-plus
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-14 22:12:30" itemprop="dateCreated datePublished" datetime="2021-06-14T22:12:30Z">2021-06-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-02 13:41:06" itemprop="dateModified" datetime="2023-02-02T13:41:06Z">2023-02-02</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>14k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>13 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="springboot整合mybatis-plus"><a class="markdownIt-Anchor" href="#springboot整合mybatis-plus"></a> Springboot整合Mybatis-plus</h1>
<h3 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h3>
<p><code>Mybatis-plus</code>是基于<code>mybatis</code>的纯粹的增强版，并没有修改<code>mybatis</code>任何功能，只是单纯的添加了一些非常方便的功能。</p>
<ul>
<li>类似<code>spring-data-jpa</code>，通过继承<code>BaseMapper</code>无须配置<code>xml</code>文件即可实现<code>CRUD</code>等操作</li>
<li>通过分页插件实现物理分页查询</li>
<li>通过继承<code>IService</code>和<code>ServiceImpl</code>实现例如批量更新等等操作</li>
<li>通过条件构造器简化查询</li>
<li>…</li>
</ul>
<p>总的来说就是简化了单表查询的操作，但是复杂的多表查询还是需要配置<code>mapper.xml</code>手动编写<code>sql</code>语句去实现。</p>
<p><code>mybatis-plus</code>是国内的开源插件，<a href="https://mybatis.plus/guide/" target="_blank" rel="noopener">官网</a>对于功能写的非常详细，我这里只是简单介绍一下几个常用的简单功能。</p>
<a id="more"></a>
<h3 id="使用示例"><a class="markdownIt-Anchor" href="#使用示例"></a> 使用示例</h3>
<p><a href="https://github.com/bigmoom/springboot/tree/main/springboot%E6%95%B4%E5%90%88mybatis-plus" target="_blank" rel="noopener">程序源码</a></p>
<h4 id="pomxml"><a class="markdownIt-Anchor" href="#pomxml"></a> pom.xml</h4>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--连接mysql        --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">&lt;!--mybatis-plus        --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="applicationyml"><a class="markdownIt-Anchor" href="#applicationyml"></a> application.yml</h4>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8090</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/springboot?characterEncoding=utf-8&amp;useSSL=false&amp;autoReconnect=true&amp;rewriteBatchedStatements=true&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">1234</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mybatis-plus</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment">#驼峰</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment">#显示sql语句</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.cwh.springboot.springboot_mybatisplus.dao.entity</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*Mapper.xml</span></span><br></pre></td></tr></table></figure>
<p>和<code>mybatis</code>配置没有区别，基本就是设置数据库连接，设置实体类位置，设置<code>mapper.xml</code>匹配位置</p>
<h4 id="entity"><a class="markdownIt-Anchor" href="#entity"></a> Entity</h4>
<p>这里还是只使用了<code>Customer</code>单个实体类</p>
<h5 id="customer"><a class="markdownIt-Anchor" href="#customer"></a> Customer</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName</span>(<span class="string">"customer"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line"><span class="comment">//    设置主键，主键生成策略</span></span><br><span class="line"><span class="comment">//    AUTO为数据库自增</span></span><br><span class="line">    <span class="meta">@TableId</span>(type = IdType.AUTO)</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    @TableField(value="",exist=true)</span></span><br><span class="line"><span class="comment">//    映射非主键字段 value字段名 exist 标明该属性是否在数据库中</span></span><br><span class="line">    <span class="meta">@TableField</span>(value = <span class="string">"name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@TableField</span>(value = <span class="string">"create_time"</span>,fill = FieldFill.INSERT)</span><br><span class="line"><span class="comment">//    fill 自动填充策略</span></span><br><span class="line"><span class="comment">//    INSERT 插入式填充，UPDATE 更新时填充,INSERT_UPDATE插入更新时填充</span></span><br><span class="line">    <span class="keyword">private</span> Date createTime;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@TableField</span>(value = <span class="string">"modify_time"</span>,fill = FieldFill.INSERT_UPDATE)</span><br><span class="line">    <span class="keyword">private</span> Date modifyTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@TableName(&quot;customer&quot;)</code> 设置映射对应表名称</p>
<p><code>@TableId(type = IdType.AUTO)</code> 设置主键，<code>type</code>为主键策略</p>
<blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">值</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">AUTO</td>
<td style="text-align:center">数据库ID自增</td>
</tr>
<tr>
<td style="text-align:center">NONE</td>
<td style="text-align:center">无状态,该类型为未设置主键类型(注解里等于跟随全局,全局里约等于 INPUT)</td>
</tr>
<tr>
<td style="text-align:center">INPUT</td>
<td style="text-align:center">insert前自行set主键值</td>
</tr>
<tr>
<td style="text-align:center">ASSIGN_ID</td>
<td style="text-align:center">分配ID(主键类型为Number(Long和Integer)或String)(since 3.3.0),使用接口<code>IdentifierGenerator</code>的方法<code>nextId</code>(默认实现类为<code>DefaultIdentifierGenerator</code>雪花算法)</td>
</tr>
<tr>
<td style="text-align:center">ASSIGN_UUID</td>
<td style="text-align:center">分配UUID,主键类型为String(since 3.3.0),使用接口<code>IdentifierGenerator</code>的方法<code>nextUUID</code>(默认default方法)</td>
</tr>
</tbody>
</table>
</blockquote>
<p><code>@TableField(value=&quot;name&quot;)</code>设置非主键字段映射字段名，可以设置多个属性</p>
<blockquote>
<p>这里介绍几个常用属性</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>“”</td>
<td>否</td>
<td>数据库字段名</td>
</tr>
<tr>
<td>exist</td>
<td>false</td>
<td>否</td>
<td>是否为数据库字段名，false则不进行匹配</td>
</tr>
<tr>
<td>fill</td>
<td>FieldFill.DEFAULT</td>
<td>否</td>
<td>字段自动填充策略</td>
</tr>
</tbody>
</table>
<p>其中<code>FieldFill</code>通常用于自动添加<strong>创建时间</strong>，<strong>更新时间</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">值</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">DEFAULT</td>
<td style="text-align:center">默认不处理</td>
</tr>
<tr>
<td style="text-align:center">INSERT</td>
<td style="text-align:center">插入时填充字段</td>
</tr>
<tr>
<td style="text-align:center">UPDATE</td>
<td style="text-align:center">更新时填充字段</td>
</tr>
<tr>
<td style="text-align:center">INSERT_UPDATE</td>
<td style="text-align:center">插入和更新时填充字段</td>
</tr>
</tbody>
</table>
</blockquote>
<h4 id="config"><a class="markdownIt-Anchor" href="#config"></a> Config</h4>
<p>由于我们要使用到<code>mybatis-plus</code>的分页插件，所以我们要设置一个配置类以添加插件</p>
<h5 id=MyBatisConfig>MyBatisConfig</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"com.cwh.springboot.springboot_mybatisplus.dao.mapper"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisPlusConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    设置分页插件（分页拦截器）</span></span><br><span class="line"><span class="comment">//    在每个需要分页的功能模块实现分页</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MybatisPlusInterceptor <span class="title">mybatisPlusInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MybatisPlusInterceptor interceptor = <span class="keyword">new</span> MybatisPlusInterceptor();</span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> PaginationInnerInterceptor(DbType.MYSQL));</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@Configuration</code> 该注解标注在类上，以标明这是一个配置类，用来配置spring容器，配置类方法上标注<code>@Bean</code>将返回对象注册为<code>bean</code>对象。</p>
<p>我们这里是将<code>PaginationInnerInterceptor</code>添加到<code>MybatisInterceptor</code>中，并设置数据库类型为<code>mysql</code></p>
<p>这是一种拦截器策略，是一种典型的<code>AOP</code>实现，切入点为传入<code>Page</code>对象的方法。</p>
<p>即每次我们传入一个<code>Page</code>对象，就会调用分页插件进行分页。</p>
<h4 id="vo"><a class="markdownIt-Anchor" href="#vo"></a> VO</h4>
<p>与之前都一样，统一格式，没有什么什么区别</p>
<h5 id="resultvo"><a class="markdownIt-Anchor" href="#resultvo"></a> ResultVO</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResultVO</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 状态码, 默认1000是成功</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 响应信息, 来说明响应情况</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 响应的具体数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ResultVO</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(ResultCode.SUCCESS, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ResultVO</span><span class="params">(ResultCode resultCode, T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.code = resultCode.getCode();</span><br><span class="line">        <span class="keyword">this</span>.msg = resultCode.getMsg();</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> String.format(<span class="string">"&#123;\"code\":%d,\"msg\":\"%s\",\"data\":\"%s\"&#125;"</span>, code, msg, data.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="rresultcode"><a class="markdownIt-Anchor" href="#rresultcode"></a> RresultCode</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> ResultCode &#123;</span><br><span class="line"></span><br><span class="line">    SUCCESS(<span class="number">0000</span>, <span class="string">"操作成功"</span>),</span><br><span class="line"></span><br><span class="line">    UNAUTHORIZED(<span class="number">1001</span>, <span class="string">"没有登录"</span>),</span><br><span class="line"></span><br><span class="line">    FORBIDDEN(<span class="number">1002</span>, <span class="string">"没有相关权限"</span>),</span><br><span class="line"></span><br><span class="line">    VALIDATE_FAILED(<span class="number">1003</span>, <span class="string">"参数校验失败"</span>),</span><br><span class="line"></span><br><span class="line">    FAILED(<span class="number">1004</span>, <span class="string">"接口异常"</span>),</span><br><span class="line"></span><br><span class="line">    ERROR(<span class="number">5000</span>, <span class="string">"未知错误"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    ResultCode(<span class="keyword">int</span> code, String msg) &#123;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">        <span class="keyword">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="customervo"><a class="markdownIt-Anchor" href="#customervo"></a> CustomerVO</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerVO</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonProperty</span>(value = <span class="string">"creat_time"</span>)</span><br><span class="line">    <span class="keyword">private</span> Date createTime;</span><br><span class="line">    <span class="meta">@JsonProperty</span>(value = <span class="string">"modify_time"</span>)</span><br><span class="line">    <span class="keyword">private</span> Date modifyTime;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomerVO</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomerVO</span><span class="params">(Customer customer)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = customer.getAge();</span><br><span class="line">        <span class="keyword">this</span>.name = customer.getName();</span><br><span class="line">        <span class="keyword">this</span>.id = customer.getId();</span><br><span class="line">        <span class="keyword">this</span>.createTime = customer.getCreateTime();</span><br><span class="line">        <span class="keyword">this</span>.modifyTime = customer.getModifyTime();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意事项：</p>
<p>实体类中如果有有参构造器，则无参构造器必须显示给出，否则程序不会调用无参构造器</p>
</blockquote>
<p>这次使用了一个<code>ControllerAdvice</code>进行返回数据的统一处理，统一返回为<code>ResultVO</code>格式</p>
<h5 id="responsecontrolleradvice"><a class="markdownIt-Anchor" href="#responsecontrolleradvice"></a> ResponseControllerAdvice</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span>(</span><br><span class="line">    basePackages = &#123;<span class="string">"com.cwh.springboot.springboot_mybatisplus.controller"</span>&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseControllerAdvice</span>  <span class="keyword">implements</span> <span class="title">ResponseBodyAdvice</span>&lt;<span class="title">Object</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断是否调用beforeBodyWrite,false为不调用</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> returnType</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> aClass</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">supports</span><span class="params">(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        若返回类型已经是ResultVO,则不调用</span></span><br><span class="line">        <span class="keyword">return</span> !returnType.getParameterType().equals(ResultVO<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">beforeBodyWrite</span><span class="params">(Object data, MethodParameter returnType, MediaType mediaType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass, ServerHttpRequest serverHttpRequest, ServerHttpResponse serverHttpResponse)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// String类型不能直接包装，所以要进行些特别的处理</span></span><br><span class="line">        <span class="keyword">if</span> (returnType.getGenericParameterType().equals(String<span class="class">.<span class="keyword">class</span>)) </span>&#123;</span><br><span class="line">            ObjectMapper objectMapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 将数据包装在ResultVO里后，再转换为json字符串响应给前端</span></span><br><span class="line">                <span class="keyword">return</span> objectMapper.writeValueAsString(<span class="keyword">new</span> ResultVO&lt;&gt;(data));</span><br><span class="line">            &#125; <span class="keyword">catch</span> (JsonProcessingException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ApiException(<span class="string">"返回String类型错误"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 将原本的数据包装在ResultVO里</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResultVO&lt;&gt;(data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@RestControllerAdvice</code>作为特化<code>@Component</code>，允许通过类路径扫描自动检测实现类。通常用于：</p>
<ul>
<li>全局异常处理（<code>@ExceptionHandler</code>）</li>
<li>全局数据绑定（<code>@InitBinder</code>）</li>
<li>全局数据预处理（<code>@ModelAttribute</code>）</li>
</ul>
<p>这里我们用于扫描所有的<code>controller</code>，实现<code>ResponseBodyAdvice&lt;Object&gt;</code>实现返回数据的统一处理。</p>
<p>该接口有两个方法：</p>
<ul>
<li>
<p><code>support(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass)</code></p>
<p>第一个参数为返回数据类型，第二个参数为最终将会使用的消息转换器。</p>
<p>返回结果决定是否调用<code>beforeBodyWrite</code>，<code>false</code>不调用，<code>true</code>调用</p>
</li>
<li>
<p><code>beforeBodyWrite(Object data, MethodParameter returnType, MediaType mediaType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass, ServerHttpRequest serverHttpRequest, ServerHttpResponse serverHttpResponse)</code></p>
<p><code>data</code> 返回数据</p>
<p><code>returnType</code> 返回数据类型</p>
<p><code>mediaType</code> 响应的<code>ContentType</code></p>
<p><code>aclass</code> 最终将会使用的消息转换器</p>
<p>返回为修改后的数据类型。</p>
</li>
</ul>
<h4 id="mapper"><a class="markdownIt-Anchor" href="#mapper"></a> Mapper</h4>
<h5 id="customermapper"><a class="markdownIt-Anchor" href="#customermapper"></a> CustomerMapper</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CustomerMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">Customer</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    分页查询</span></span><br><span class="line">    <span class="function">IPage&lt;CustomerVO&gt; <span class="title">selectPage</span><span class="params">(Page&lt;CustomerVO&gt; page, @Param(Constants.WRAPPER)</span>Wrapper&lt;CustomerVO&gt; Wrapper)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Integer <span class="title">addCustomer</span><span class="params">(@Param(<span class="string">"customer"</span>)</span>Customer customer)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;Customer&gt; <span class="title">selectByAge</span><span class="params">(@Param(<span class="string">"ew"</span>)</span>Wrapper&lt;Customer&gt; Wrapper)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="customermapperxml"><a class="markdownIt-Anchor" href="#customermapperxml"></a> CustomerMapper.xml</h5>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.cwh.springboot.springboot_mybatisplus.dao.mapper.CustomerMapper"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--    分页查询--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectPage"</span> <span class="attr">resultType</span>=<span class="string">"com.cwh.springboot.springboot_mybatisplus.vo.CustomerVO"</span>&gt;</span></span><br><span class="line">        select</span><br><span class="line">            *</span><br><span class="line">        from</span><br><span class="line">            `customer`</span><br><span class="line">        $&#123;ew.customSqlSegment&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    添加用户--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"addCustomer"</span> <span class="attr">parameterType</span>=<span class="string">"Customer"</span>&gt;</span></span><br><span class="line">        insert</span><br><span class="line">        into</span><br><span class="line">            `customer`(name,age)</span><br><span class="line">            values (#&#123;customer.name&#125;, #&#123;customer.age&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    使用条件构造器查询--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectByAge"</span> <span class="attr">resultType</span>=<span class="string">"Customer"</span>&gt;</span></span><br><span class="line">        select</span><br><span class="line">            *</span><br><span class="line">        from</span><br><span class="line">            `customer`</span><br><span class="line">        $&#123;ew.customSqlSegment&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>CustomerMapper</code>实现了<code>mybatis-plus</code>的几个非常常用的功能</p>
<h5 id="crud接口"><a class="markdownIt-Anchor" href="#crud接口"></a> CRUD接口</h5>
<h6 id="mapper-crud接口"><a class="markdownIt-Anchor" href="#mapper-crud接口"></a> Mapper CRUD接口</h6>
<p><code>mybatis-plus</code>为我们提供了封装好的<code>BaseMapper</code>，通过继承<code>BaseMapper</code>即能够实现简单的<code>CRUD</code>操作</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BaseMapper</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">T</span>&gt; </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">insert</span><span class="params">(T entity)</span></span>; </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">deleteById</span><span class="params">(Serializable id)</span></span>; </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">deleteByMap</span><span class="params">(@Param(<span class="string">"cm"</span>)</span> Map&lt;String, Object&gt; columnMap)</span>; </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">delete</span><span class="params">(@Param(<span class="string">"ew"</span>)</span> Wrapper&lt;T&gt; wrapper)</span>; </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">deleteBatchIds</span><span class="params">(@Param(<span class="string">"coll"</span>)</span> Collection&lt;? extends Serializable&gt; idList)</span>; </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">updateById</span><span class="params">(@Param(<span class="string">"et"</span>)</span> T entity)</span>; </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">update</span><span class="params">(@Param(<span class="string">"et"</span>)</span> T entity, @<span class="title">Param</span><span class="params">(<span class="string">"ew"</span>)</span> Wrapper&lt;T&gt; updateWrapper)</span>; </span><br><span class="line">    <span class="function">T <span class="title">selectById</span><span class="params">(Serializable id)</span></span>; </span><br><span class="line">    <span class="function">List&lt;T&gt; <span class="title">selectBatchIds</span><span class="params">(@Param(<span class="string">"coll"</span>)</span> Collection&lt;? extends Serializable&gt; idList)</span>; </span><br><span class="line">    <span class="function">List&lt;T&gt; <span class="title">selectByMap</span><span class="params">(@Param(<span class="string">"cm"</span>)</span> Map&lt;String, Object&gt; columnMap)</span>; </span><br><span class="line">    <span class="function">T <span class="title">selectOne</span><span class="params">(@Param(<span class="string">"ew"</span>)</span> Wrapper&lt;T&gt; queryWrapper)</span>; </span><br><span class="line">    <span class="function">Integer <span class="title">selectCount</span><span class="params">(@Param(<span class="string">"ew"</span>)</span> Wrapper&lt;T&gt; queryWrapper)</span>; </span><br><span class="line">    <span class="function">List&lt;T&gt; <span class="title">selectList</span><span class="params">(@Param(<span class="string">"ew"</span>)</span> Wrapper&lt;T&gt; queryWrapper)</span>; </span><br><span class="line">    List&lt;Map&lt;String, Object&gt;&gt; selectMaps(<span class="meta">@Param</span>(<span class="string">"ew"</span>) Wrapper&lt;T&gt; queryWrapper); </span><br><span class="line">    <span class="function">List&lt;Object&gt; <span class="title">selectObjs</span><span class="params">(@Param(<span class="string">"ew"</span>)</span> Wrapper&lt;T&gt; queryWrapper)</span>; </span><br><span class="line">    &lt;E extends IPage&lt;T&gt;&gt; <span class="function">E <span class="title">selectPage</span><span class="params">(E page, @Param(<span class="string">"ew"</span>)</span> Wrapper&lt;T&gt; queryWrapper)</span>; </span><br><span class="line">    &lt;E extends IPage&lt;Map&lt;String, Object&gt;&gt;&gt; <span class="function">E <span class="title">selectMapsPage</span><span class="params">(E page, @Param(<span class="string">"ew"</span>)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们可以直接调用上述方法而不用编写<code>mapper.xml</code></p>
</blockquote>
<h6 id="service-crud-接口"><a class="markdownIt-Anchor" href="#service-crud-接口"></a> Service CRUD 接口</h6>
<p><code>mybatis-plus</code>还为我们提供了封装好的<code>IService</code>接口，进一步提供<code>get</code>,<code>list</code>,<code>remove</code>,<code>page</code>等操作，想要仔细了解可以查看官方文档或者之间查看源码。</p>
<blockquote>
<p><code>BaseMapper</code>中一些以<code>entity</code>为参数传入时，<code>NOT NULL</code>的实体属性必须不能为空，不会调用自动填充功能。</p>
</blockquote>
<h5 id="分页插件"><a class="markdownIt-Anchor" href="#分页插件"></a> 分页插件</h5>
<p><code>mybatis-plus</code>为我们提供了非常简单的分页插件。</p>
<p><code>[MybatisPlusConfig]</code>的<a href="#MyBatisConfig">配置</a>已经在上文给出，之后我们只需要编写我们的分页查询功能即可。</p>
<p><code>selectPage(page,wrapper)</code>：第一个参数为一个<code>page</code>对象,第二个为一个查询构造器。</p>
<blockquote>
<p>这里的page对象和之前<code>springframwork.data.domain</code>中的<code>page</code>对象类似，但是不同。</p>
<p>我们一样可以通过<code>page(current,pagesize)</code>构建一个<code>page</code>对象，但是此处<code>current</code>从1开始，表示当前所在页码。</p>
<p><code>page.addOrder(List&lt;OrderItem&gt; items)</code>添加排序序列</p>
</blockquote>
<h5 id="条件构造器"><a class="markdownIt-Anchor" href="#条件构造器"></a> 条件构造器</h5>
<p><code>mybatis-plus</code>提供了条件构造器<code>AbstractWrapper,QueryWrapper,UpdateWrapper</code>用于生成<code>sql</code>中<code>where</code>条件。</p>
<p>这里简单介绍几个常用功能</p>
<ul>
<li>
<p><code>QueryWrapper</code>继承<code>AbstractWrapper</code>主要用于查询</p>
<p><code>eq</code> <code>querrywrapper.eq(&quot;name&quot;,&quot;cwh&quot;)</code>即等于<code>where name = cwh</code></p>
<p><code>ge</code> <code>querrywrapper.ge(&quot;age&quot;,&quot;24&quot;)</code>即等于<code>where age &gt;= 24</code></p>
<p><code>between</code> <code>querrywrapper.between(&quot;age&quot;,&quot;24&quot;,&quot;26&quot;)</code> 即等于 <code>where age between 24 and 26</code></p>
<p><code>like</code> <code>querrywrapper.like(&quot;name&quot;,&quot;王&quot;)</code>即等于 <code>where name like %王%</code></p>
<p><code>orderByAsc</code> <code>querrywrapper.orderByAsc(&quot;age&quot;,&quot;id&quot;)</code>即等于 <code>order by age ASC id ASC</code></p>
</li>
<li>
<p><code>UpdateWrapper</code>继承<code>AbstractWrapper</code>提供了<code>set</code>方法，用于赋值更新</p>
</li>
<li>
<p><code>LambdaQueryWrapper</code>和<code>LambdaUpdateWrapper</code>功能与上述两个没有区别，只是参数使用<code>lambda</code>格式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//	王姓，年龄小于40，邮箱不为空	LambdaQueryWrapper&lt;User&gt; wq = Wrappers.&lt;User&gt;lambdaQuery();	wq.like(User::getName, "张").and(user -&gt; user.lt(User::getAge, 40).or().isNotNull(User::getEmail));</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>使用注意事项</p>
<p>需要<code>mybatis-plus</code>版本 &gt;= <code>3.0.7</code></p>
<p>param 参数名要么叫<code>ew</code>,要么加上注解<code>@Param(Constants.WRAPPER)</code> ，<code>mapper.xml</code> 中 使用<code>${ew.customSqlSegment}</code>匹配</p>
</blockquote>
<h4 id="service"><a class="markdownIt-Anchor" href="#service"></a> Service</h4>
<h5 id="customerservice"><a class="markdownIt-Anchor" href="#customerservice"></a> CustomerService</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CustomerService</span> <span class="keyword">extends</span> <span class="title">IService</span>&lt;<span class="title">Customer</span>&gt; </span>&#123;</span><br><span class="line"><span class="comment">//  分页</span></span><br><span class="line">    <span class="function">IPage&lt;CustomerVO&gt; <span class="title">selectPage</span><span class="params">(Page&lt;CustomerVO&gt; page)</span></span>;</span><br><span class="line"><span class="comment">//  添加用户</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addCustomer</span><span class="params">(Customer customer)</span></span>;</span><br><span class="line"><span class="comment">//  通过用户id查询</span></span><br><span class="line">    <span class="function">Customer <span class="title">getCustomerById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line"><span class="comment">//  通过用户id删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line"><span class="comment">//  更新</span></span><br><span class="line">    <span class="function">Integer <span class="title">updateCustomer</span><span class="params">(Customer customer)</span></span>;</span><br><span class="line"><span class="comment">//  查询大于age1,小于age2的用户</span></span><br><span class="line">    <span class="function">List&lt;Customer&gt; <span class="title">selectByAge</span><span class="params">(Integer age1,Integer age2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="customerserviceimpl"><a class="markdownIt-Anchor" href="#customerserviceimpl"></a> CustomerServiceImpl</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerServiceImpl</span> <span class="keyword">extends</span> <span class="title">ServiceImpl</span>&lt;<span class="title">CustomerMapper</span>, <span class="title">Customer</span>&gt; <span class="keyword">implements</span> <span class="title">CustomerService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IPage&lt;CustomerVO&gt; <span class="title">selectPage</span><span class="params">(Page&lt;CustomerVO&gt; page)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        设置条件构造器</span></span><br><span class="line">        QueryWrapper&lt;CustomerVO&gt; queryWrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="keyword">return</span> baseMapper.selectPage(page,queryWrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addCustomer</span><span class="params">(Customer customer)</span> </span>&#123;</span><br><span class="line">        baseMapper.addCustomer(customer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Customer <span class="title">getCustomerById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> baseMapper.selectById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        baseMapper.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">updateCustomer</span><span class="params">(Customer customer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> baseMapper.updateById(customer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">selectByAge</span><span class="params">(Integer age1,Integer age2)</span> </span>&#123;</span><br><span class="line">        QueryWrapper&lt;Customer&gt; queryWrapper = <span class="keyword">new</span> QueryWrapper&lt;Customer&gt;();</span><br><span class="line">        queryWrapper.between(<span class="string">"age"</span>,age1,age2);</span><br><span class="line">        queryWrapper.orderByAsc(<span class="string">"age"</span>);</span><br><span class="line">        <span class="keyword">return</span> baseMapper.selectByAge(queryWrapper);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>CustomerServiceImpl</code>继承了<code>mybatis-plus</code>提供的通用实现类<code>ServiceImpl&lt;CustomerMapper,Custome&gt;</code>并且实现了自己定义的<code>CustomerService</code></p>
<p>所以不用再注入<code>dao</code>层，因为<code>SeviceImpl</code>中已经为我们实现了注入</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceImpl</span>&lt;<span class="title">M</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">T</span>&gt;, <span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">IService</span>&lt;<span class="title">T</span>&gt; </span>&#123; <span class="meta">@Autowired</span> <span class="keyword">protected</span> M baseMapper; ....</span><br></pre></td></tr></table></figure>
</blockquote>
<p>所以我们可以通过<code>baseMapper</code>直接调用<code>baseMapper</code>和我们定义的<code>CustomerMapper</code>中的方法</p>
<h4 id="controller"><a class="markdownIt-Anchor" href="#controller"></a> Controller</h4>
<h5 id="customercontroller"><a class="markdownIt-Anchor" href="#customercontroller"></a> CustomerController</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/customer"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CustomerService customerService;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    分页查询</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/page/&#123;current&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IPage&lt;CustomerVO&gt; <span class="title">getPage</span><span class="params">(@PathVariable(<span class="string">"current"</span>)</span><span class="keyword">int</span> current)</span>&#123;</span><br><span class="line"><span class="comment">//        分页参数（为mybatis-plus中page，与springdata domain中不同）</span></span><br><span class="line"><span class="comment">//        传入当前</span></span><br><span class="line">        Page&lt;CustomerVO&gt; page = <span class="keyword">new</span> Page&lt;&gt;(current,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        设置排序序列</span></span><br><span class="line">        OrderItem orderItem = <span class="keyword">new</span> OrderItem();</span><br><span class="line">        orderItem.setColumn(<span class="string">"create_time"</span>);</span><br><span class="line"><span class="comment">//        倒叙排列</span></span><br><span class="line">        orderItem.setAsc(<span class="keyword">false</span>);</span><br><span class="line">        page.addOrder(orderItem);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> customerService.selectPage(page);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    添加用户</span></span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/add"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(@RequestParam(<span class="string">"name"</span>)</span>String name, @<span class="title">RequestParam</span><span class="params">(<span class="string">"age"</span>)</span>Integer age)</span>&#123;</span><br><span class="line">        Customer customer = <span class="keyword">new</span> Customer();</span><br><span class="line">        customer.setName(name);</span><br><span class="line">        customer.setAge(age);</span><br><span class="line">        customerService.addCustomer(customer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    查询</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/get"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> CustomerVO <span class="title">getCustomerById</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span>Integer id)</span>&#123;</span><br><span class="line">        Customer customer = customerService.getCustomerById(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> CustomerVO(customer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    根据年龄大小查询</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(value = <span class="string">"/get"</span>, params = &#123;<span class="string">"age1"</span>,<span class="string">"age2"</span>&#125;)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">selectCustomerByAge</span><span class="params">(@RequestParam(<span class="string">"age1"</span>)</span>Integer age1, @<span class="title">RequestParam</span><span class="params">(<span class="string">"age2"</span>)</span>Integer age2)</span>&#123;</span><br><span class="line">        List&lt;Customer&gt; customerList = customerService.selectByAge(age1, age2);</span><br><span class="line">        <span class="keyword">return</span> customerList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    删除</span></span><br><span class="line">    <span class="meta">@DeleteMapping</span>(<span class="string">"/delete"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span>Integer id)</span>&#123;</span><br><span class="line">        customerService.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="运行结果"><a class="markdownIt-Anchor" href="#运行结果"></a> 运行结果</h4>
<h5 id="get-customerpagecurrent"><a class="markdownIt-Anchor" href="#get-customerpagecurrent"></a> <code>GET</code> <code>/customer/page/{current}</code></h5>
<img src="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180015.png" style="zoom:80%;" />
<img src="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180043.png" style="zoom:80%;" />
<h5 id="post-add"><a class="markdownIt-Anchor" href="#post-add"></a> <code>POST</code> <code>/add</code></h5>
<img src="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180233.png" style="zoom:80%;" />
<h5 id="get-get"><a class="markdownIt-Anchor" href="#get-get"></a> <code>GET</code> <code>/get</code></h5>
<img src="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180420.png" style="zoom:80%;" />
<h5 id="get-getage1age2"><a class="markdownIt-Anchor" href="#get-getage1age2"></a> <code>GET</code> <code>/get?age1=?&amp;age2=?</code></h5>
<img src="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180324.png" style="zoom:80%;" />
<h5 id="delete-delete"><a class="markdownIt-Anchor" href="#delete-delete"></a> <code>DELETE</code> <code>/delete</code></h5>
<img src="https://typora-cwh.oss-cn-hangzhou.aliyuncs.com/20210609180456.png" style="zoom:80%;" />
<h3 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h3>
<p>个人感觉<code>mybaits-plus</code>更像是<code>spring data jpa</code>与<code>mybatis</code>的结合升级版。</p>
<p>他提供了简单的<code>CRUD</code>和分页的接口，也可以根据复杂需求使用原生<code>sql</code>语句。可以实现非常强大的功能。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JAVA/" rel="tag"># JAVA</a>
              <a href="/tags/springboot/" rel="tag"># springboot</a>
              <a href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag"># 面试</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/06/15/SpringBoot%E6%95%B4%E5%90%88mybatis/" rel="prev" title="SpringBoot整合mybatis">
      <i class="fa fa-chevron-left"></i> SpringBoot整合mybatis
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/06/15/SpringBoot%E6%95%B4%E5%90%88springsecurity/" rel="next" title="SpringBoot整合springsecurity">
      SpringBoot整合springsecurity <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#springboot整合mybatis-plus"><span class="nav-number">1.</span> <span class="nav-text"> Springboot整合Mybatis-plus</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#简介"><span class="nav-number">1.0.1.</span> <span class="nav-text"> 简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用示例"><span class="nav-number">1.0.2.</span> <span class="nav-text"> 使用示例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#pomxml"><span class="nav-number">1.0.2.1.</span> <span class="nav-text"> pom.xml</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#applicationyml"><span class="nav-number">1.0.2.2.</span> <span class="nav-text"> application.yml</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#entity"><span class="nav-number">1.0.2.3.</span> <span class="nav-text"> Entity</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#customer"><span class="nav-number">1.0.2.3.1.</span> <span class="nav-text"> Customer</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#config"><span class="nav-number">1.0.2.4.</span> <span class="nav-text"> Config</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#MyBatisConfig"><span class="nav-number">1.0.2.4.1.</span> <span class="nav-text">MyBatisConfig</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vo"><span class="nav-number">1.0.2.5.</span> <span class="nav-text"> VO</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#resultvo"><span class="nav-number">1.0.2.5.1.</span> <span class="nav-text"> ResultVO</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#rresultcode"><span class="nav-number">1.0.2.5.2.</span> <span class="nav-text"> RresultCode</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#customervo"><span class="nav-number">1.0.2.5.3.</span> <span class="nav-text"> CustomerVO</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#responsecontrolleradvice"><span class="nav-number">1.0.2.5.4.</span> <span class="nav-text"> ResponseControllerAdvice</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mapper"><span class="nav-number">1.0.2.6.</span> <span class="nav-text"> Mapper</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#customermapper"><span class="nav-number">1.0.2.6.1.</span> <span class="nav-text"> CustomerMapper</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#customermapperxml"><span class="nav-number">1.0.2.6.2.</span> <span class="nav-text"> CustomerMapper.xml</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#crud接口"><span class="nav-number">1.0.2.6.3.</span> <span class="nav-text"> CRUD接口</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#mapper-crud接口"><span class="nav-number">1.0.2.6.3.1.</span> <span class="nav-text"> Mapper CRUD接口</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#service-crud-接口"><span class="nav-number">1.0.2.6.3.2.</span> <span class="nav-text"> Service CRUD 接口</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#分页插件"><span class="nav-number">1.0.2.6.4.</span> <span class="nav-text"> 分页插件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#条件构造器"><span class="nav-number">1.0.2.6.5.</span> <span class="nav-text"> 条件构造器</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#service"><span class="nav-number">1.0.2.7.</span> <span class="nav-text"> Service</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#customerservice"><span class="nav-number">1.0.2.7.1.</span> <span class="nav-text"> CustomerService</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#customerserviceimpl"><span class="nav-number">1.0.2.7.2.</span> <span class="nav-text"> CustomerServiceImpl</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#controller"><span class="nav-number">1.0.2.8.</span> <span class="nav-text"> Controller</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#customercontroller"><span class="nav-number">1.0.2.8.1.</span> <span class="nav-text"> CustomerController</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#运行结果"><span class="nav-number">1.0.2.9.</span> <span class="nav-text"> 运行结果</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#get-customerpagecurrent"><span class="nav-number">1.0.2.9.1.</span> <span class="nav-text"> GET &#x2F;customer&#x2F;page&#x2F;{current}</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#post-add"><span class="nav-number">1.0.2.9.2.</span> <span class="nav-text"> POST &#x2F;add</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#get-get"><span class="nav-number">1.0.2.9.3.</span> <span class="nav-text"> GET &#x2F;get</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#get-getage1age2"><span class="nav-number">1.0.2.9.4.</span> <span class="nav-text"> GET &#x2F;get?age1&#x3D;?&amp;age2&#x3D;?</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#delete-delete"><span class="nav-number">1.0.2.9.5.</span> <span class="nav-text"> DELETE &#x2F;delete</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结"><span class="nav-number">1.0.3.</span> <span class="nav-text"> 总结</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Wanghui Cai"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Wanghui Cai</p>
  <div class="site-description" itemprop="description">一些零零散散的学习总结</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">23</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/bigmoom" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;bigmoom" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:15850180970@163.com" title="E-Mail → mailto:15850180970@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
  <div class="beian"><a href="https://beian.miit.gov.cn/#/Integrated/index" rel="noopener" target="_blank">苏ICP备20010524 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wanghui Cai</span>
</div>




        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

    

  

</body>
</html>
